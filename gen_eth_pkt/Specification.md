###Высокоуровневая схема модулей генератора:  
![alt text](https://github.com/padung99/Metrotek_LAB4/blob/main/eth_pkt_gen.png?raw=true)

###Статичные параметры модуля генератора:
+ Скорость генерации ( От 0 до 1Gb/s на уровне L1 ).
+ Размер кадров ( случайный размер в диапазоне от минимального до максимального / постоянный заданный размер ).
+ Длительность ( в количестве пакетов / в секундах ).
+ Режим работы ( 1000 Mbps full duplex ).

###Структура и работа генератора:
Avalon-mm register file:
- Данные в этом Register file являются настройками генератора, они будут получены по интерфейсу Avalon-mm, эти данные могут быть:
+ Общее количество пакетов, которые необходимо передать
+ Инкрементный или случайный тип данных
+ MAC-адрес приемника и передатчика.
+ Случайное начальное число ( Random seed ) для блока PRBS.
  
- Ethernet packet generation: этот блок генерирует рандомизированные ethernet данных ( Payload ) с помощью алгоритма PSBS.

Структура 1 ethernet кадры: INSERT IMAGE

---> Так как у одной кадры очень большой объем (больше 1500 байтов), мы не можем передать все пакеты за 1 раз, это следует, что кадры, генерированы в блоке "Ethernet packet generation" разделяются на маленькие пакеты. Эти маленькие пакеты подаются в блок "CRC generator" и блок "Shift register" одновременно.

- CRC generator: Этот блок генерирует контрольную сумму с помощью алгоритма CRC для того, чтобы эти пакеты правильно получаются на стророне TSE.
- Shift register: этот блок преобразует параллельные данные, которые получены с блока "Ethernet packet generation" на последовательные пакеты.
---> Выход этих обоих блоков ( CRC generator и Shift register ) является последовательные пакеты с добавлением контрольной суммы в конце пакетов, например:

Выходные данные от блока "Ethernet packet generation": 0xA4 0x58 0x36 0x16 0x04 0x99 0xE4 ..... 0xBA ( параллельные )  
---> контрольная сумма этого пакета:  0x74 ( генерируется в блоке "CRC generator" )  
Выходные данные обоих блоков ( CRC generator и Shift register ) будут в формате: [Пакет] [контрольная сумма]:  
[0xA4 0x58 0x36 0x16 0x04 0x99 0xE4 ..... 0xBA] [       0x74       ]    ( последовательные )  
[---------------------Пакет-------------------] [ Контрольная сумма]  

- После добавления котрольной суммы в конце последовательного пакета, пакет будет передан на выход генератора по интерфейсу Avalon-ST, этот пакет будет получен модулем TSE
